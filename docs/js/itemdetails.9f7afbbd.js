(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["itemdetails"],{"32a2":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",[i("InfoHeader",{attrs:{itemDetails:t.itemDetails}}),i("v-tabs",{attrs:{"show-arrows":"",grow:"","background-color":"rgba(255,255,255,.01)"},model:{value:t.activeTab,callback:function(e){t.activeTab=e},expression:"activeTab"}},[t._l(t.tabs,(function(e){return i("v-tab",{key:e.label},[t._v(" "+t._s(t.$t(e.label)))])})),t._l(t.tabs,(function(t){return i("v-tab-item",{key:t.label},[i("ItemsListing",{attrs:{items:t.items,media_type:t.media_type}})],1)}))],2)],1)},r=[],s=(i("99af"),i("5530")),n=i("b85c"),o=i("0dac"),l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-flex",{directives:[{name:"observe-visibility",rawName:"v-observe-visibility",value:t.visibilityChanged,expression:"visibilityChanged"}]},[a("v-card",{staticStyle:{"margin-top":"-60px"},attrs:{tile:"",img:i("abd2"),height:t.showFullInfo?"110%":"340"}},[a("v-img",{attrs:{width:"100%",height:t.showFullInfo?"100%":"340",position:"center top",src:t.getFanart(t.itemDetails),gradient:t.$vuetify.theme.dark?"to bottom, rgba(0,0,0,.90), rgba(0,0,0,.75)":"to bottom, rgba(255,255,255,.90), rgba(255,255,255,.75)"},on:{click:function(e){t.showFullInfo=!t.showFullInfo}}},[a("div",{staticClass:"text-xs-center",staticStyle:{height:"40px"},attrs:{id:"whitespace_top"}}),t.itemDetails?a("v-layout",{staticStyle:{"margin-left":"5pxmargin-right:5px"}},[t.$store.state.isMobile?t._e():a("v-flex",{attrs:{xs5:"","pa-5":""}},[a("v-img",{staticStyle:{border:"3px solid rgba(0,0,0,.33)","border-radius":"3px"},attrs:{src:t.getImage(t.itemDetails),"lazy-src":i("4bfb"),width:"220px",height:"220px"}})],1),a("v-flex",[a("v-card-title",[t._v(" "+t._s(t.itemDetails.name)+" ")]),a("v-card-subtitle",[t.itemDetails.version?a("div",{staticClass:"caption"},[t._v(" "+t._s(t.itemDetails.version)+" ")]):t._e(),t.itemDetails.artists?a("div",{staticClass:"title accent--text"},[a("v-icon",{staticStyle:{"margin-left":"-3px","margin-right":"3px"},attrs:{small:"",color:"primary"}},[t._v("person")]),t._l(t.itemDetails.artists,(function(e,i){return a("span",{key:e.db_id},[a("a",{staticStyle:{color:"accent"},on:{click:function(i){return t.artistClick(e)}}},[t._v(t._s(e.name))]),i+1<t.itemDetails.artists.length?a("span",{key:i,staticStyle:{color:"accent"}},[t._v(t._s(" / "))]):t._e()])}))],2):t._e(),t.itemDetails.artist?a("div",{staticClass:"title"},[a("v-icon",{staticStyle:{"margin-left":"-3px","margin-right":"3px"},attrs:{small:"",color:"primary"}},[t._v("person")]),a("a",{on:{click:function(e){return t.artistClick(t.itemDetails.artist)}}},[t._v(t._s(t.itemDetails.artist.name))])],1):t._e(),t.itemDetails.owner?a("div",{staticClass:"title"},[a("v-icon",{staticStyle:{"margin-left":"-3px","margin-right":"3px"},attrs:{color:"primary",small:""}},[t._v("person")]),a("a",{staticStyle:{color:"primary"}},[t._v(t._s(t.itemDetails.owner))])],1):t._e(),t.itemDetails.album?a("div",[a("v-icon",{staticStyle:{"margin-left":"-3px","margin-right":"3px"},attrs:{color:"primary",small:""}},[t._v("album")]),a("a",{staticStyle:{color:"secondary"},on:{click:function(e){return t.albumClick(t.itemDetails.album)}}},[t._v(t._s(t.itemDetails.album.name))])],1):t._e()]),a("div",{staticStyle:{"margin-left":"14px"}},[a("v-btn",{attrs:{color:"primary",tile:""},on:{click:function(e){return t.$server.$emit("showPlayMenu",t.itemDetails)}}},[a("v-icon",{attrs:{left:""}},[t._v("play_circle_filled")]),t._v(" "+t._s(t.$t("play"))+" ")],1),t.$store.state.isMobile||t.itemDetails.in_library?t._e():a("v-btn",{staticStyle:{"margin-left":"10px"},attrs:{color:"primary",tile:""},on:{click:function(e){return t.toggleLibrary(t.itemDetails)}}},[a("v-icon",{attrs:{left:""}},[t._v("favorite_border")]),t._v(" "+t._s(t.$t("add_library"))+" ")],1),!t.$store.state.isMobile&&t.itemDetails.in_library?a("v-btn",{staticStyle:{"margin-left":"10px"},attrs:{color:"primary",tile:""},on:{click:function(e){return t.toggleLibrary(t.itemDetails)}}},[a("v-icon",{attrs:{left:""}},[t._v("favorite")]),t._v(" "+t._s(t.$t("remove_library"))+" ")],1):t._e()],1),a("v-card-subtitle",{staticClass:"body-2 justify-left"},[t.showFullInfo?a("span",{domProps:{innerHTML:t._s(t.getDescription())},on:{click:function(e){e.stopPropagation(),t.showFullInfo=!1}}}):a("span",{domProps:{innerHTML:t._s(t.truncateText(t.getDescription(),t.$store.state.isMobile?180:380))},on:{click:function(e){e.stopPropagation(),t.showFullInfo=!0}}})]),t.itemDetails&&t.itemDetails.metadata.genres?a("div",{staticClass:"justify-center",staticStyle:{position:"absolute","margin-left":"15px","margin-bottom":"15px"}},t._l(t.itemDetails.metadata.genres,(function(e){return a("v-chip",{key:e,staticStyle:{"margin-right":"5px","margin-bottom":"5px"},attrs:{color:"accent",small:"",outlined:""}},[t._v(t._s(e))])})),1):t._e()],1),a("div",{staticStyle:{"margin-top":"15px"}},[a("ProviderIcons",{attrs:{providerIds:t.itemDetails.provider_ids,height:25}})],1)],1):t._e()],1)],1)],1)},c=[],m=(i("a4d3"),i("e01a"),i("4160"),i("caad"),i("fb6a"),i("b0c0"),i("159b"),i("2b0e")),u=i("e00a"),d=i("85fe");m["a"].use(d["a"]);var p=m["a"].extend({components:{ProviderIcons:u["a"]},props:["itemDetails"],data:function(){return{showFullInfo:!1}},mounted:function(){},created:function(){this.$store.state.topBarTransparent=!0},beforeDestroy:function(){this.$store.state.topBarTransparent=!1,this.$store.state.topBarContextItem=null},watch:{itemDetails:function(t){t&&(this.$store.state.topBarContextItem=t,this.$store.state.windowTitle=t.name)}},computed:{},methods:{visibilityChanged:function(t,e){this.$store.state.topBarTransparent=!!t},artistClick:function(t){var e="/artists/"+t.item_id;this.$router.push({path:e,query:{provider:t.provider}})},albumClick:function(t){var e="/albums/"+t.item_id;this.$router.push({path:e,query:{provider:t.provider}})},toggleLibrary:function(t){this.$server.toggleLibrary(t)},getDescription:function(){var t="";return this.itemDetails?this.itemDetails.metadata&&this.itemDetails.metadata.description?this.itemDetails.metadata.description:this.itemDetails.metadata&&this.itemDetails.metadata.biography?this.itemDetails.metadata.biography:this.itemDetails.metadata&&this.itemDetails.metadata.copyright?this.itemDetails.metadata.copyright:(this.itemDetails.artists&&this.itemDetails.artists.forEach((function(e){e.metadata&&e.metadata.biography&&(t=e.metadata.biography)})),t):""},truncateText:function(t,e){var i=t;return t.length>e&&(i=i.substring(0,e)+"..."),i},getQualityInfo:function(){},getUniqueProviders:function(){var t=[],e=[];if(!this.providerIds)return[];var i=this.providerIds.slice();i.sort((function(t,e){return t.quality<e.quality?1:e.quality<t.quality?-1:0}));var a,r=Object(n["a"])(i);try{for(r.s();!(a=r.n()).done;){var s=a.value;t.includes(s.provider)||(e.push(s),t.push(s.provider))}}catch(o){r.e(o)}finally{r.f()}return e},getImage:function(t){return t&&t.media_type?t.metadata&&t.metadata.image?t.metadata.image:t.album&&t.album.metadata&&t.album.metadata.image?t.album.metadata.image:t.artist&&t.artist.metadata&&t.artist.metadata.image?t.artist.metadata.image:void 0:""},getFanart:function(t){return t&&t.media_type?t.metadata&&t.metadata.fanart?t.metadata.fanart:t.album&&t.album.metadata&&t.album.metadata.fanart?t.album.metadata.fanart:t.artist&&t.artist.metadata&&t.artist.metadata.fanart?t.artist.metadata.fanart:this.getImage(t):""}}}),v=p,b=i("2877"),f=i("6544"),h=i.n(f),y=i("8336"),g=i("b0af"),_=i("99d9"),k=i("cc20"),D=i("0e8f"),x=i("132d"),w=i("adda"),S=i("a722"),I=Object(b["a"])(v,l,c,!1,null,null,null),$=I.exports;h()(I,{VBtn:y["a"],VCard:g["a"],VCardSubtitle:_["a"],VCardTitle:_["c"],VChip:k["a"],VFlex:D["a"],VIcon:x["a"],VImg:w["a"],VLayout:S["a"]});var C=i("2f62"),T={components:{ItemsListing:o["a"],InfoHeader:$},props:{item_id:String,provider:String,media_type:String},data:function(){return{activeTab:0,tabs:[]}},created:function(){var t=this;this.$server.sendWsCommand("".concat(this.media_type,"/").concat(this.provider,"/").concat(this.item_id),{refresh:!0}),"artists"===this.media_type?this.tabs=[{label:"artist_toptracks",endpoint:"artists/".concat(this.provider,"/").concat(this.item_id,"/tracks"),media_type:"tracks",items:[]},{label:"artist_albums",endpoint:"artists/".concat(this.provider,"/").concat(this.item_id,"/albums"),media_type:"albums",items:[]}]:"albums"===this.media_type?this.tabs=[{label:"album_tracks",endpoint:"albums/".concat(this.provider,"/").concat(this.item_id,"/tracks"),media_type:"albumtracks",items:[]},{label:"album_versions",endpoint:"albums/".concat(this.provider,"/").concat(this.item_id,"/versions"),media_type:"albums",items:[]}]:"tracks"===this.media_type?this.tabs=[{label:"track_versions",endpoint:"tracks/".concat(this.provider,"/").concat(this.item_id,"/versions"),media_type:"tracks",items:[]}]:"playlists"===this.media_type&&(this.tabs=[{label:"playlist_tracks",endpoint:"playlists/".concat(this.provider,"/").concat(this.item_id,"/tracks"),media_type:"playlisttracks",items:[]}]);var e,i=Object(n["a"])(this.tabs);try{var a=function(){var i=e.value;t.$server.sendWsCommand(i.endpoint,null,(function(t){i.items=t}))};for(i.s();!(e=i.n()).done;)a()}catch(r){i.e(r)}finally{i.f()}},computed:Object(s["a"])(Object(s["a"])({},Object(C["c"])(["getArtist","getAlbum","getTrack","getPlaylist","getRadio"])),{},{itemDetails:function(){return"artists"===this.media_type?this.getArtist(this.item_id,this.provider):"albums"===this.media_type?this.getAlbum(this.item_id,this.provider):"tracks"===this.media_type?this.getTrack(this.item_id,this.provider):"playlists"===this.media_type?this.getPlaylist(this.item_id,this.provider):"radios"===this.media_type?this.getRadio(this.item_id,this.provider):null}}),methods:{}},O=T,j=(i("66ce"),i("71a3")),V=i("c671"),F=i("fe57"),P=Object(b["a"])(O,a,r,!1,null,"5077005f",null);e["default"]=P.exports;h()(P,{VTab:j["a"],VTabItem:V["a"],VTabs:F["a"]})},"66ce":function(t,e,i){"use strict";var a=i("c2b5"),r=i.n(a);r.a},"85fe":function(t,e,i){"use strict";(function(t){function i(t){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function s(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}function n(t){return o(t)||l(t)||c()}function o(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}function l(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function c(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function m(t){var e;return e="function"===typeof t?{callback:t}:t,e}function u(t,e){var i,a,r,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=function(o){for(var l=arguments.length,c=new Array(l>1?l-1:0),m=1;m<l;m++)c[m-1]=arguments[m];if(r=c,!i||o!==a){var u=s.leading;"function"===typeof u&&(u=u(o,a)),i&&o===a||!u||t.apply(void 0,[o].concat(n(r))),a=o,clearTimeout(i),i=setTimeout((function(){t.apply(void 0,[o].concat(n(r))),i=0}),e)}};return o._clear=function(){clearTimeout(i),i=null},o}function d(t,e){if(t===e)return!0;if("object"===i(t)){for(var a in t)if(!d(t[a],e[a]))return!1;return!0}return!1}var p=function(){function t(e,i,r){a(this,t),this.el=e,this.observer=null,this.frozen=!1,this.createObserver(i,r)}return s(t,[{key:"createObserver",value:function(t,e){var i=this;if(this.observer&&this.destroyObserver(),!this.frozen){if(this.options=m(t),this.callback=function(t,e){i.options.callback(t,e),t&&i.options.once&&(i.frozen=!0,i.destroyObserver())},this.callback&&this.options.throttle){var a=this.options.throttleOptions||{},r=a.leading;this.callback=u(this.callback,this.options.throttle,{leading:function(t){return"both"===r||"visible"===r&&t||"hidden"===r&&!t}})}this.oldResult=void 0,this.observer=new IntersectionObserver((function(t){var e=t[0];if(t.length>1){var a=t.find((function(t){return t.isIntersecting}));a&&(e=a)}if(i.callback){var r=e.isIntersecting&&e.intersectionRatio>=i.threshold;if(r===i.oldResult)return;i.oldResult=r,i.callback(r,e)}}),this.options.intersection),e.context.$nextTick((function(){i.observer&&i.observer.observe(i.el)}))}}},{key:"destroyObserver",value:function(){this.observer&&(this.observer.disconnect(),this.observer=null),this.callback&&this.callback._clear&&(this.callback._clear(),this.callback=null)}},{key:"threshold",get:function(){return this.options.intersection&&this.options.intersection.threshold||0}}]),t}();function v(t,e,i){var a=e.value;if(a)if("undefined"===typeof IntersectionObserver);else{var r=new p(t,a,i);t._vue_visibilityState=r}}function b(t,e,i){var a=e.value,r=e.oldValue;if(!d(a,r)){var s=t._vue_visibilityState;a?s?s.createObserver(a,i):v(t,{value:a},i):f(t)}}function f(t){var e=t._vue_visibilityState;e&&(e.destroyObserver(),delete t._vue_visibilityState)}var h={bind:v,update:b,unbind:f};function y(t){t.directive("observe-visibility",h)}var g={version:"0.4.6",install:y},_=null;"undefined"!==typeof window?_=window.Vue:"undefined"!==typeof t&&(_=t.Vue),_&&_.use(g),e["a"]=g}).call(this,i("c8ba"))},abd2:function(t,e,i){t.exports=i.p+"img/info_gradient.4db55f47.jpg"},c2b5:function(t,e,i){}}]);
//# sourceMappingURL=itemdetails.9f7afbbd.js.map